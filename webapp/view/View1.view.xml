<mvc:View 
xmlns:html="http://www.w3.org/1999/xhtml" 
xmlns:mvc="sap.ui.core.mvc" 
xmlns="sap.m" 
xmlns:sap.ui.layout.form="sap.ui.layout.form"
xmlns:sap.ui.layout="sap.ui.layout" 
xmlns:sap.me="sap.me" 
xmlns:sap.ui.core="sap.ui.core" 
xmlns:ui="sap.ca.ui" 
xmlns:table="sap.ui.table"
xmlns:sap.ui.unified="sap.ui.unified"
controllerName="ZETMS_CREATE.controller.View1" 
displayBlock="true">
	<!--<App>-->
		<!--<pages>-->
			<Page id="V1" title="{i18n>title}" class="sapUiResponsiveContentPadding">
				

					<content>
						<!--<Button id="displayNotFoundBtn" text="{i18n>DisplayNotFound}" press="onDisplayNotFound" class="sapUiTinyMarginEnd"/>
		-->
			
					
					<sap.ui.layout:Grid width="auto" defaultIndent="L4 M3" defaultSpan="L4 M6 S12" id="LRS4_FLX_TOP">
					<!--<sap.ui.layout:Grid width="auto" defaultSpan="L12 M12 S12" id="LRS4_FLX_TOP">-->
						<sap.ui.layout:content>
							
							
							
						<!--	<VBox width="100%" direction="Column" id="__vbox0_ABSENCETYPE" alignItems="Center">
							<items>
			
					<Select
					
						id="SLCT_LEAVETYPE"
						selectedKey="item_LEAVETYPE"
						change="handleAbsTypeSelect"
						tooltip="Seleziona il tipo di assenza oggetto della tua richiesta."

						items="{ 	path: '/AbsenceTypeSet' }">
						<sap.ui.core:ListItem key="{IdAbs}" text="{TipoAbs}" id="item_LEAVETYPE"/>				
					
				    </Select>
							    
							</items>
							</VBox>-->
							
							
					<OverflowToolbar id="otbSubheader">
						<ToolbarSpacer/>
					    <Button  id="btnComm" type="Transparent" icon="sap-icon://clinical-order" tooltip="Scegli la commessa" press="showPopover" enabled="true"></Button>
						<Button id="btnSede" tooltip="Scegli la sede" icon="sap-icon://building" type="Transparent" press="openPopoverList" enabled="false"/>
						
					</OverflowToolbar>
				
							
						</sap.ui.layout:content>
					</sap.ui.layout:Grid>
					
						<sap.ui.layout:Grid id="LRS4_FLX_CONTENT" defaultSpan="L12 M12 S12" width="auto" hSpacing="0">
						<sap.ui.layout:content>
							
				
				
							<sap.ui.layout.form:Form id="LRS4_FRM_MAIN">
								
						<sap.ui.layout.form:layout>
							<sap.ui.layout.form:ResponsiveGridLayout labelSpanL="3" labelSpanM="3" emptySpanL="4" emptySpanM="4" columnsL="2" columnsM="1"/>
						</sap.ui.layout.form:layout>
								
								
								<sap.ui.layout.form:formContainers>
					
									<sap.ui.layout.form:FormContainer id="LRS4_FRM_CNT_CALENDAR">
					
						

										<sap.ui.layout.form:formElements>
											
											<sap.ui.layout.form:FormElement id="LRS4_FELEM_CALENDAR">
												
												<sap.ui.layout.form:layoutData>
											    <sap.ui.layout:ResponsiveFlowLayoutData linebreak="true"/>
													


												</sap.ui.layout.form:layoutData>
												<sap.ui.layout.form:fields>
														<sap.ui.layout:Grid id="LR_CALENDAR" defaultSpan="L12 M12 S12" width="100%" hSpacing="0">
														<sap.ui.layout:content>
															
															<VBox width="100%" direction="Column" id="__vbox0_CALENDAR" alignItems="Center" alignContent="Center" justifyContent="Center">
																<items>	
															<sap.ui.layout:VerticalLayout width="100%">
															<sap.ui.unified:Calendar id="LRS4_DAT_CALENDAR" class="sapUiResponsiveMargin" select="handleCalendarSelect" startDateChange="handleCalendarChange" intervalSelection="false" singleSelection="false" legend="legend1" tooltip="{i18n>LR_SELECT_DAYS}" width="100%"/>
													 
													 	<!--	<sap.me:CalendarLegend id="LRS4_LEGEND" class="s4LEGEND" legendWidth="18em">
																		<sap.me:layoutData>
																			<sap.ui.layout:ResponsiveFlowLayoutData id="LRS4_LYO_LEGEND" minWidth="30" weight="15"/>
																		</sap.me:layoutData>
																	</sap.me:CalendarLegend>-->
																		</sap.ui.layout:VerticalLayout>
																</items>
															</VBox>
													 	<VBox width="100%" direction="Column" id="__vbox0_LEGEND" alignItems="Center" alignContent="Start" justifyContent="Center">
																<items>	
													 	<sap.ui.layout:VerticalLayout width="100%">
													 		
													 	<Panel id="panelLegend" width="auto"  backgroundDesign="Transparent" expandable="true">
														<headerToolbar>
															<Toolbar height="auto">
																<Title text="Legenda"/>
															</Toolbar>
														</headerToolbar>
														<sap.ui.unified:CalendarLegend id="legend1" columnWidth="128px"/>
														</Panel>
		
																		</sap.ui.layout:VerticalLayout>
																</items>
															</VBox>
															
															<VBox width="100%" direction="Column" id="__vbox0_CALBUTTON" alignItems="Center">
																<items>	
															<sap.ui.layout:VerticalLayout width="100%">
															
															<Button press="handleRemoveSelection" text="Rimuovi date selezionate" icon="sap-icon://delete" tooltip="{i18n>LR_REMOVE_DAYS}" id="btn_removeDate"/>
                                                             	
 											<!--	<sap.me:CalendarLegend id="LRS4_LEGEND" class="s4LEGEND" legendWidth="18em">
																		<sap.me:layoutData>
																			<sap.ui.layout:ResponsiveFlowLayoutData id="LRS4_LYO_LEGEND" minWidth="30" weight="15"/>
																		</sap.me:layoutData>
																	</sap.me:CalendarLegend>-->
																		</sap.ui.layout:VerticalLayout>
																</items>
															</VBox>
														
					
							
														</sap.ui.layout:content>
													</sap.ui.layout:Grid>	
												</sap.ui.layout.form:fields>
											</sap.ui.layout.form:FormElement>
											
										<!--	<sap.ui.layout.form:FormElement id="LRS4_FELEM_DATESELECTED">
												
												<sap.ui.layout.form:layoutData>
													<sap.ui.layout:ResponsiveFlowLayoutData linebreak="true"/>
												</sap.ui.layout.form:layoutData>
										
												<sap.ui.layout.form:fields>
													<sap.ui.layout:Grid id="LR_DATESELECTED" defaultSpan="L12 M12 S12" width="100%">
														<sap.ui.layout:content>
															<VBox width="100%" direction="Column" id="__vbox0_DATESEL" alignItems="Center">
																<items>	
																	<sap.ui.layout:VerticalLayout width="100%">
																		<List id="selectedDatesList" class="labelMarginLeft" noDataText="No Dates Selected" headerText="Selected Dates (yyyy-mm-dd)" items="{path: '/selectedDates'}">
																			<StandardListItem title="{Date}"/>
																		</List>
																	</sap.ui.layout:VerticalLayout>
																</items>
															</VBox>
														</sap.ui.layout:content>
													</sap.ui.layout:Grid>		
												</sap.ui.layout.form:fields>
												
											</sap.ui.layout.form:FormElement>
											-->
											
											
										</sap.ui.layout.form:formElements>
										
									</sap.ui.layout.form:FormContainer>
									
									
									
								</sap.ui.layout.form:formContainers>
								
								
							
									
									
							
								<sap.ui.layout.form:layout>
									<sap.ui.layout.form:ResponsiveGridLayout id="__layout_FORM_CONTENT"/>
								</sap.ui.layout.form:layout>
							
							</sap.ui.layout.form:Form>
							
 <table:TreeTable
        id="treeTable"
        selectionMode="Single"
        enableColumnReordering="false"
        expandFirstLevel="false"
         rows="{path: '/ListaCommesseGroupSet',
    
     filters : [
     { path: 'Calmonth', operator: 'EQ', value1: '06'},
     { path: 'Calyear', operator: 'EQ', value1: '2017'}
     ],
     
     parameters : {
      expand : 'ToChildExpNodes',
      navigation : {
      'ListaCommesseGroupSet' : 'ToChildExpNodes'
      }
      }
        
       }">

        <table:columns>
            <table:Column label="Tmskey">
                <table:template>
                    <Text text="{Tmskey}" wrapping="false" />
                </table:template>
            </table:Column>
            <table:Column label="Expkey">
                <table:template>
                    <Text text="{Expkey}" wrapping="false" />
                </table:template>
            </table:Column>
            <table:Column label="OrderJob">
                <table:template>
                    <Text text="{OrderJob}" wrapping="false" />
                </table:template>
            </table:Column>
            <table:Column label="Qta">
                <table:template>
                    <Text text="{Qta}" wrapping="false" />
                </table:template>
            </table:Column>

        </table:columns>

    </table:TreeTable>
							
								</sap.ui.layout:content>
					</sap.ui.layout:Grid>
			</content>
					
					
					
				
				<footer>
					<OverflowToolbar id="footerToolbar">
						
					  
						  	<Button id="btn_History" text="Storico" press="onHistoryPress" type="Emphasized" activeIcon="sap-icon://approvals" icon="sap-icon://work-history" tooltip="Accedi alla lista delle tue richieste per visualizzarle e/o modificarle.">
						  <layoutData><OverflowToolbarLayoutData moveToOverflow="false"/></layoutData>
						  </Button>
		<ToolbarSpacer/>
							<Button id="btn1" type="Accept" text="Crea" press="openDialog" icon="sap-icon://create-entry-time" tooltip="Crea nuovoinserimento nel timesheet">
						  <layoutData><OverflowToolbarLayoutData moveToOverflow="false"/></layoutData>
						  </Button>
			
					</OverflowToolbar>
				</footer>
				
				
			</Page>
		<!--</pages>-->
	<!--</App>-->
</mvc:View>